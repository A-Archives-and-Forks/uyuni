<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Tue Jul 19 18:39:00 CEST 2011 -->
<TITLE>
PxtSessionDelegate
</TITLE>

<META NAME="date" CONTENT="2011-07-19">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PxtSessionDelegate";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtCookieManager.html" title="class in com.redhat.rhn.frontend.servlets"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegateFactory.html" title="class in com.redhat.rhn.frontend.servlets"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PxtSessionDelegate.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.redhat.rhn.frontend.servlets</FONT>
<BR>
Interface PxtSessionDelegate</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegateImpl.html" title="class in com.redhat.rhn.frontend.servlets">PxtSessionDelegateImpl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>PxtSessionDelegate</B></DL>
</PRE>

<P>
PxtSessionDelegate provides an API with operations for retrieving, creating, and
 updating the pxt session and pxt cookie.

 <br/><br/>

 Similiar operations can be found in RequestContext. Even though a similiar API already
 exists in RequestContext, this API is provided to server those client who need only these
 operations and not the full API of RequestContext. Therefore, it is reccomended that you
 use PxtSessionDelegate instead of RequestContext if this API provides all of the
 operations that you need.

 <br/><br/>

 You obtain instances of PxtSessionDelegate from PxtSessionDelegateFactory. Below is an
 example of how you might retrieve a PxtSessionDelegate:

 <pre>
  HttpServletRequest request = // Get the current request...
  PxtSessionDelegateFactory factory = PxtSessionDelegateFactory.getInstance();
  PxtSessionDelegate pxtDelegate = factory.newPxtSessionDelegate(request);
 </pre>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegateFactory.html" title="class in com.redhat.rhn.frontend.servlets"><CODE>PxtSessionDelegateFactory</CODE></A>, 
<A HREF="../../../../../com/redhat/rhn/frontend/struts/RequestContext.html" title="class in com.redhat.rhn.frontend.struts"><CODE>RequestContext</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/redhat/rhn/domain/session/WebSession.html" title="interface in com.redhat.rhn.domain.session">WebSession</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html#getPxtSession(HttpServletRequest)">getPxtSession</A></B>(HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieve the pxt session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html#getWebUserId(HttpServletRequest)">getWebUserId</A></B>(HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the <code>webUserId</code> property of the pxt session bound to the specified
 request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html#invalidatePxtSession(HttpServletRequest, HttpServletResponse)">invalidatePxtSession</A></B>(HttpServletRequest&nbsp;request,
                     HttpServletResponse&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invalidates the pxt session for the given request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html#isPxtSessionExpired(HttpServletRequest)">isPxtSessionExpired</A></B>(HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return <code>true</code> if the pxt session for the current request has expired.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html#isPxtSessionKeyValid(HttpServletRequest)">isPxtSessionKeyValid</A></B>(HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validates the pxt session ID that is stored in the pxt cookie with a secret key in
 the pxt session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html#refreshPxtSession(HttpServletRequest, HttpServletResponse)">refreshPxtSession</A></B>(HttpServletRequest&nbsp;request,
                  HttpServletResponse&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Refreshes the pxt session, effectively reseting the timeout of the session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html#updateWebUserId(HttpServletRequest, HttpServletResponse, java.lang.Long)">updateWebUserId</A></B>(HttpServletRequest&nbsp;request,
                HttpServletResponse&nbsp;response,
                java.lang.Long&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the <code>webUserId</code> property of the pxt session bound to the specified
 request.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getWebUserId(HttpServletRequest)"><!-- --></A><H3>
getWebUserId</H3>
<PRE>
java.lang.Long <B>getWebUserId</B>(HttpServletRequest&nbsp;request)</PRE>
<DL>
<DD>Returns the <code>webUserId</code> property of the pxt session bound to the specified
 request.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - The current request
<DT><B>Returns:</B><DD>The <code>webUserId</code> property of the pxt session.</DL>
</DD>
</DL>
<HR>

<A NAME="getPxtSession(HttpServletRequest)"><!-- --></A><H3>
getPxtSession</H3>
<PRE>
<A HREF="../../../../../com/redhat/rhn/domain/session/WebSession.html" title="interface in com.redhat.rhn.domain.session">WebSession</A> <B>getPxtSession</B>(HttpServletRequest&nbsp;request)</PRE>
<DL>
<DD>Retrieve the pxt session. If the session does not exist, one will be created. The
 session will be bound to a request attribute named <code>session</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - The current request
<DT><B>Returns:</B><DD>The pxt session to which the request is bound.</DL>
</DD>
</DL>
<HR>

<A NAME="updateWebUserId(HttpServletRequest, HttpServletResponse, java.lang.Long)"><!-- --></A><H3>
updateWebUserId</H3>
<PRE>
void <B>updateWebUserId</B>(HttpServletRequest&nbsp;request,
                     HttpServletResponse&nbsp;response,
                     java.lang.Long&nbsp;id)</PRE>
<DL>
<DD>Sets the <code>webUserId</code> property of the pxt session bound to the specified
 request. Note that this operation triggers a session refresh.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - The current request<DD><CODE>response</CODE> - The current response<DD><CODE>id</CODE> - The ID to be assigned to the <code>webUserId</code> property.<DT><B>See Also:</B><DD><A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html#refreshPxtSession(HttpServletRequest, HttpServletResponse)"><CODE>refreshPxtSession(HttpServletRequest, HttpServletResponse)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="isPxtSessionExpired(HttpServletRequest)"><!-- --></A><H3>
isPxtSessionExpired</H3>
<PRE>
boolean <B>isPxtSessionExpired</B>(HttpServletRequest&nbsp;request)</PRE>
<DL>
<DD>Return <code>true</code> if the pxt session for the current request has expired.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - The current request
<DT><B>Returns:</B><DD><code>true</code> if the pxt session for the current request has expired,
 <code>false</code> otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="isPxtSessionKeyValid(HttpServletRequest)"><!-- --></A><H3>
isPxtSessionKeyValid</H3>
<PRE>
boolean <B>isPxtSessionKeyValid</B>(HttpServletRequest&nbsp;request)</PRE>
<DL>
<DD>Validates the pxt session ID that is stored in the pxt cookie with a secret key in
 the pxt session. Return <code>true</code> if the encoded session ID matches the
 secret key.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - The current request
<DT><B>Returns:</B><DD><code>true</code> if the encoded session ID matches the secret key,
 <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="refreshPxtSession(HttpServletRequest, HttpServletResponse)"><!-- --></A><H3>
refreshPxtSession</H3>
<PRE>
void <B>refreshPxtSession</B>(HttpServletRequest&nbsp;request,
                       HttpServletResponse&nbsp;response)</PRE>
<DL>
<DD>Refreshes the pxt session, effectively reseting the timeout of the session.
 Specifically, implementations of PxtSessionDelegate are responsible for the
 following:

 <ul>
   <li>
      Set the <code>expires</code> property of the session to an appropriate value.
   </li>
   <li>Save the session.</li>
   <li>Store a pxt cookie in the response with an appropriate timeout.</li>
 </ul>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - The current request<DD><CODE>response</CODE> - The current response</DL>
</DD>
</DL>
<HR>

<A NAME="invalidatePxtSession(HttpServletRequest, HttpServletResponse)"><!-- --></A><H3>
invalidatePxtSession</H3>
<PRE>
void <B>invalidatePxtSession</B>(HttpServletRequest&nbsp;request,
                          HttpServletResponse&nbsp;response)</PRE>
<DL>
<DD>Invalidates the pxt session for the given request.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - The current request<DD><CODE>response</CODE> - The current response</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtCookieManager.html" title="class in com.redhat.rhn.frontend.servlets"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/redhat/rhn/frontend/servlets/PxtSessionDelegateFactory.html" title="class in com.redhat.rhn.frontend.servlets"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/redhat/rhn/frontend/servlets/PxtSessionDelegate.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PxtSessionDelegate.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
